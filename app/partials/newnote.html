


<div class = "row divrow">
	   
	   <div class="col-md-2">
   	  		<button type="button" class="btn btn-default dropdown-toggle" 
		     	data-toggle="dropdown">
		      	Choose university <span class="caret"></span>
		    </button>
		    <ul class="dropdown-menu" role="menu">
		    	<div ng-repeat="uni in unis">
		      		<li><a href="#uploadNote/{{uni.name}}/">{{uni.name}}</a></li>
		    	</div>
		   </ul>
		</div>
		<div class="col-md-6">
		<div class="input-group input-group">
  		<span class="input-group-addon"></span>
  		<input type="text" class="form-control" ng-model="newnote.currentUni" placeholder="{{currentUni}}" readonly>
		</div>	
	   </div>
</div>
<div class = "row divrow">
	   
	   <div class="col-md-2">
   	  		<button type="button" class="btn btn-default dropdown-toggle" 
		     	data-toggle="dropdown">
		      	Choose faculty<span class="caret"></span>
		    </button>
		    <ul class="dropdown-menu" role="menu">
   				<div ng-repeat="faculty in faculties">
      			<li><a href="#uploadNote/{{currentUni}}/{{faculty.name}}">{{faculty.name}}</a></li>
		    	</div>
		   </ul>
		</div>
		<div class="col-md-6">
		<div class="input-group input-group">
  		<span class="input-group-addon"></span>
  		<input type="text" class="form-control"ng-model="newnote.currentFaculty" placeholder="{{currentFaculty}}" readonly>
		</div>	
	   </div>
</div>
<div class = "row divrow">
	   
	   <div class="col-md-2">
   	  		<button type="button" class="btn btn-default dropdown-toggle" 
		     	data-toggle="dropdown">
		      	Choose class<span class="caret"></span>
		    </button>
		    <ul class="dropdown-menu" role="menu">
   				<div ng-repeat="class in classes">
      			<li><a href="#uploadNote/{{currentUni}}/{{currentFaculty}}/{{class.name}}">{{class.name}}</a></li>
		    	</div>
		   </ul>
		</div>
		<div class="col-md-6">
		<div class="input-group input-group">
  		<span class="input-group-addon"></span>
  		<input type="text" class="form-control" ng-model="newnote.currentClass" placeholder="{{currentClass}}" readonly>
		</div>	
	   </div>
</div>

<br>

<div class="row">
  <div class="col-md-8">
<form class="form-horizontal" role="form">
  <div class="form-group">
    <label for="inputDescription" class="col-sm-2 control-label">Description</label>
    <div class="col-sm-10">
      <input type="text" ng-model="newnote.description" class="form-control" id="inputDescription" placeholder="Description" required>
    </div>
  </div>
  <div class="form-group">
    <label for="inputYear" class="col-sm-2 control-label">Year</label>
    <div class="col-sm-10">
      <input type="text" ng-model="newnote.year" class="form-control" id="inputYear" placeholder="Year" required>
    </div>
  </div>
  <div class="form-group">
    <label for="inputName2" class="col-sm-2 control-label">Name</label>
    <div class="col-sm-10">
      <input type="text" ng-model="newnote.name" class="form-control" id="inputName2" placeholder="Name">
    </div>
  </div>
  <div class="form-group">
    <label for="uploadFile" class="col-sm-2 control-label">Select file to upload</label>
    <div class="col-sm-10">
	  <span class="input-group">
		  <span class="btn btn-default btn-file">
			Browse...<input type="file"  id="uploadFile" ng-file-select="onFileSelect($files)">
		  </span>
		  <input type="text" class="form-control" ng-readonly="true" id="fileInfo" ng-model="newnote.fileName">
	  </span>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button ng-click="uploadNote()" class="btn btn-default">Add note!</button>
    </div>
  </div>
  
</form>
</div>
  <div class="col-md-4"></div>
</div>

</div>
<script>
	
		$(document)
			.on('change', '.btn-file :file', function() {
				var input = $(this),
				numFiles = input.get(0).files ? input.get(0).files.length : 1,
				label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
				input.trigger('fileselect', [numFiles, label]);
		});
		
		$(document).ready( function() {
			$('.btn-file :file').on('fileselect', function(event, numFiles, label) {
				
				var input = $(this).parents('.input-group').find(':text'),
					log = numFiles > 1 ? numFiles + ' files selected' : label;
				$('#fileInfo').val(log);
				/*if( input.length ) {
					input.val(log);
				} else {
					if( log ){
						console.log(log);
						
					};
				}*/
				
			});
		});		
	
</script>